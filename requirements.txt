# ============================================================================
# F.A.R.F.A.N MECHANISTIC POLICY PIPELINE - PRODUCTION DEPENDENCIES
# ============================================================================
# VersiÃ³n: 2025.11 - Complete Production Stack
# Python Version: 3.11+ (Tested on 3.11.14)
#
# IMPORTANT SYSTEM DEPENDENCIES (Install BEFORE pip install):
#
# Ubuntu/Debian:
#   sudo apt-get update && sudo apt-get install -y \
#     ghostscript \
#     python3-tk \
#     libgraphviz-dev \
#     graphviz \
#     default-jre
#
# macOS:
#   brew install ghostscript tcl-tk graphviz openjdk
#
# Fedora/RHEL:
#   sudo dnf install ghostscript tk graphviz java-11-openjdk
#
# INSTALLATION ORDER:
# 1. Install system dependencies (see above)
# 2. pip install --upgrade pip setuptools wheel
# 3. pip install -r requirements.txt
# 4. python -m spacy download es_core_news_sm
# ============================================================================

# ============================================================================
# WEB FRAMEWORKS & HTTP
# ============================================================================
# Flask stack for admin dashboard and legacy APIs
flask==3.0.3
flask-cors==6.0.0
flask-socketio==5.4.1
werkzeug==3.0.6

# FastAPI stack for modern async APIs
fastapi==0.115.6
uvicorn[standard]==0.34.0
sse-starlette==2.2.1
httpx==0.28.1

# WebSocket Support
python-socketio==5.14.1
gevent==24.11.1
gevent-websocket==0.10.1

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================
pyjwt==2.10.1
blake3==0.4.1

# ============================================================================
# CONFIGURATION & CLI
# ============================================================================
pyyaml==6.0.2
python-dotenv==1.0.1
typer==0.15.1
click==8.1.7

# ============================================================================
# CORE SCIENTIFIC COMPUTING STACK
# ============================================================================
# CRITICAL: NumPy 1.26.4 is REQUIRED for Python 3.12 compatibility with PyMC/PyTensor
# NumPy 2.0 breaks binary compatibility with PyMC ecosystem
# This is NOT a downgrade - it's the correct version for this stack
numpy==1.26.4
scipy==1.14.1
pandas==2.2.3
polars==1.19.0
pyarrow==19.0.0

# ============================================================================
# MACHINE LEARNING & DEEP LEARNING
# ============================================================================
scikit-learn==1.6.1
tensorflow==2.18.0
torch==2.8.0
torchvision==0.19.0

# ============================================================================
# NATURAL LANGUAGE PROCESSING (NLP)
# ============================================================================
# Core Transformers Stack
transformers==4.53.0
sentence-transformers==3.3.1
spacy==3.8.3

# NLP Utilities
nltk==3.9.1
sentencepiece==0.2.0
tiktoken==0.8.0
fuzzywuzzy==0.18.0
python-Levenshtein==0.26.1
langdetect==1.0.9
regex==2024.11.6

# Hugging Face Ecosystem
# huggingface-hub 0.27.1 resolves transformers initialization regression
huggingface-hub==0.27.1
safetensors==0.5.2
tokenizers==0.21.0
filelock==3.16.1
accelerate==1.2.1

# ============================================================================
# GRAPH ANALYSIS & NETWORK SCIENCE
# ============================================================================
networkx==3.4.2
igraph==0.11.8
python-louvain==0.16
pydot==3.0.4

# ============================================================================
# BAYESIAN INFERENCE & CAUSAL ANALYSIS
# ============================================================================
# CRITICAL VERSION PINNING:
# PyTensor 2.34.0 is the LAST version supporting NumPy 1.x
# PyTensor 2.35+ requires NumPy 2.0 which breaks PyMC compatibility
pytensor==2.34.0

# PyMC 5.16.2 is verified compatible with PyTensor 2.34 on Python 3.12
# Can build from source successfully
pymc==5.16.2
arviz==0.20.0

# Causal Inference
dowhy==0.12
econml==0.15.1

# ============================================================================
# PDF PROCESSING & DOCUMENT EXTRACTION
# ============================================================================
# CRITICAL: camelot-py requires system dependencies:
#   - ghostscript (for PDF rendering)
#   - tkinter (for table detection)
#   - Java JRE (for tabula-py)
pdfplumber==0.11.4
PyPDF2==3.0.1
PyMuPDF==1.25.2

# Table extraction from PDFs
tabula-py==2.10.0
camelot-py[cv]==0.11.0

# Document processing
python-docx==1.1.2

# ============================================================================
# COMPUTER VISION
# ============================================================================
# Required by camelot-py for table detection
opencv-python==4.10.0.84
opencv-python-headless==4.10.0.84
Pillow==11.0.0

# NLP Additional Dependencies
nltk==3.9.1
sentencepiece==0.2.0
tiktoken==0.8.0
fuzzywuzzy==0.18.0
python-Levenshtein==0.26.1
langdetect==1.0.9
regex==2024.11.6

# Hugging Face Ecosystem
# huggingface-hub>=0.30.0 required by transformers 4.53.0
huggingface-hub>=0.30.0
safetensors==0.5.2
tokenizers==0.21.0
filelock==3.16.1

# Data Validation
jsonschema==4.23.0
pydantic==2.10.6
pydantic-settings==2.7.0

# ============================================================================
# DATABASES & PERSISTENCE
# ============================================================================
redis==5.2.1
sqlalchemy==2.0.37

# ============================================================================
# PRODUCTION SERVER
# ============================================================================
gunicorn==23.0.0

# ============================================================================
# TESTING & QUALITY ASSURANCE
# ============================================================================
pytest==8.3.4
pytest-cov==6.0.0
pytest-asyncio==0.24.0
black==24.10.0
flake8==7.1.1
hypothesis==6.122.7
schemathesis==3.39.16

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
prometheus-client==0.21.1
psutil==6.1.1
structlog==24.4.0
opentelemetry-api==1.29.0
opentelemetry-sdk==1.29.0
opentelemetry-instrumentation-fastapi==0.50b0
tenacity==9.0.0

# ============================================================================
# TYPE CHECKING & BUILD TOOLS
# ============================================================================
typing-extensions==4.12.2
setuptools==78.1.1
wheel==0.45.1

# ============================================================================
# HTTP & NETWORKING STACK
# ============================================================================
requests==2.32.4
urllib3==2.5.0
certifi==2024.7.4
charset-normalizer==3.3.2
idna==3.7

# ============================================================================
# UTILITIES & HELPERS
# ============================================================================
tqdm==4.66.3
packaging==23.2
joblib==1.3.2
threadpoolctl==3.2.0
six==1.16.0
python-dateutil==2.8.2
pytz==2024.1

# ============================================================================
# END OF REQUIREMENTS
# ============================================================================
